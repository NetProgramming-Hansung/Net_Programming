import java.awt.EventQueue;
import java.awt.geom.CubicCurve2D;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.Vector;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.JTextArea;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;

public class Server extends JFrame {

	private static final long serialVersionUID = 1L;
	private JPanel contentPane;
	JTextArea textArea;
	
	private ServerSocket socket;
	private Socket client_socket;
	
	private Vector<User>UserVec = new Vector<>();
	private GameRoom cd;
	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					Server frame = new Server();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	/**
	 * Create the frame.
	
	 */
	public Server() throws IOException {
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 450, 600);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		setContentPane(contentPane);
		contentPane.setLayout(null);
		
		JScrollPane scrollPane = new JScrollPane();
		scrollPane.setBounds(12, 10, 410, 541);
		contentPane.add(scrollPane);
		
		textArea = new JTextArea();
		scrollPane.setViewportView(textArea);

		try
		{
			socket = new ServerSocket(3000);
		}
		 catch (NumberFormatException | IOException e1) {
             e1.printStackTrace();
         }
		AcceptServer ac_server = new AcceptServer();
		ac_server.start();
	}
	
	class AcceptServer extends Thread 
	{
		public void run()
		{
			while(true)
			{
				try
				{
					AppendText("Indian Poker Game Server Start");
					client_socket = socket.accept();
					//인원을 2명까지만 받음
					if(UserVec.size() >= 2)
					{
						AppendText("서버가 꽉 찼습니다. 접속 거부된 플레이어 : " + client_socket);
						
						try (DataOutputStream dos = new DataOutputStream(client_socket.getOutputStream())) {
			                dos.writeUTF("서버가 꽉 찼습니다");
			            }catch(IOException e)
						{
							
						}
						client_socket.close();
					}
					else
					{
						AppendText("플레이어 입장 : " + client_socket);
						
						User new_user = new User(client_socket);
						UserVec.add(new_user);
						
						AppendText("현재 인원 : " + UserVec.size());
						new_user.start();
						
						if(UserVec.size() == 2)
						{
							AppendText("2명 입장 완료");
							cd = new GameRoom(UserVec.get(0), UserVec.get(1));
							cd.spreadCard(); //시작하자마자 카드 분배 시작
						}
					}
					
					
				}
				catch(IOException e)
				{
					AppendText("AcceptServer 에러발생");
				}
			}
		}
	}
	
	public void AppendText(String str)
	{
		textArea.append(str+"\n");
		textArea.setCaretPosition(textArea.getText().length());
	}
	
	class User extends Thread
	{
		private InputStream is;
		private OutputStream os;
		private DataInputStream dis;
		private DataOutputStream dos;
		private Socket client_socket;
		private Vector<User> user_vc;
		private String UserName ="";
		
		private boolean btnCheck = false;
		private boolean btnBetting = false;
		
		private int bettingMoney;
		
		
		public User(Socket client_socket)
		{
			this.client_socket = client_socket;
			this.user_vc = UserVec;
			  try {
	                is = client_socket.getInputStream();
	                dis = new DataInputStream(is);
	                os = client_socket.getOutputStream();
	                dos = new DataOutputStream(os);
	                String line1 = dis.readUTF();      // 제일 처음 연결되면 클라이언트의 SendMessage("/login " + UserName);에 의해 "/login UserName" 문자열이 들어옴
	                String[] msg = line1.split(" ");   //line1이라는 문자열을 공백(" ")을 기준으로 분할
	                UserName = msg[1].trim();          //분할된 문자열 배열 msg의 두 번째 요소(인덱스 1)를 가져와 trim 메소드를 사용하여 앞뒤의 공백을 제거
	                AppendText("새로운 참가자 " + UserName + " 입장.");	               
	                WriteOne(UserName + "님 환영합니다.\n"); // 연결된 사용자에게 정상접속을 알림
	                //WriteOne("카드는 1부터 10까지 중 하나의 숫자를 받습니다");
	                
	            } catch (Exception e) {
	                AppendText("userService error");
	            }
		}
		
		 public void WriteOne(String msg) {
	            try {
	                dos.writeUTF(msg);
	            } catch (IOException e) {
	                AppendText("dos.write() error");
	                try {
	                    dos.close();
	                    dis.close();
	                    client_socket.close();
	                } catch (IOException e1) {
	                    e1.printStackTrace();
	                }
	                UserVec.removeElement(this); // 에러가난 현재 객체를 벡터에서 지운다
	                AppendText("사용자 퇴장. 현재 참가자 수 " + UserVec.size());
	            }
	        }
		 public void WriteAll(String str) {  
	            for (int i = 0; i < user_vc.size(); i++) {
	            	User user = user_vc.get(i);     // get(i) 메소드는 user_vc 컬렉션의 i번째 요소를 반환
	                user.WriteOne(str);
	            }
	        }
		 public void run() {
	        	
	            while (true) {
	                try {
	                    String msg = dis.readUTF(); 
	                    msg = msg.trim();   //msg를 가져와 trim 메소드를 사용하여 앞뒤의 공백을 제거
	                    AppendText(msg); // server 화면에 출력
	                    String[] msgs = msg.split(" ");
	                    
	                    if(msgs[0].equals("/requestCard")) { //play버튼 눌렀을때
	                    	btnCheck =true;
	                    	//cd.spreadCard();
	                    	cd.readyBtn();
	                    }
	                    else if(msgs[0].equals("/BettingComplete")) //확인 버튼 눌렀을때 ,공백3개, 
	                    {
	                    	btnBetting = true;
	                    	bettingMoney = Integer.parseInt(msgs[1]);
	                    	cd.readyBatting();
	                    	
	                    	//건 베팅금액을 받아와야함, 걸었던 금액을 확인하여 현재 금액에서 변화 확인
	                    	//플레이어가 건 베팅금액을 공개, 둘 다 눌렀을 시 숫자 비교를 통해서 승패 정하고 이긴사람쪽으로 금액 옮기기
	                    	
	                    }
	                    else
	                    {
	                    	WriteAll(msg);
	                    }
	                   
	                    
	                    //WriteAll(msg + "\n"); // Write All
	                } catch (IOException e) {
	                    AppendText("dis.readUTF() error");
	                    try {
	                        dos.close();
	                        dis.close();
	                        client_socket.close();
	                        UserVec.removeElement(this); // 에러가 난 현재 객체를 벡터에서 지운다
	                        AppendText("사용자 퇴장. 남은 참가자 수 " + UserVec.size());
	                        break;
	                    } catch (Exception ee) {
	                        break;
	                    } 
	                }
	            }
	        }
		 public boolean getCheck()
		 {
			 return btnCheck;
		 }
		 public void setCheck(boolean btnCheck)
		 {
			 this.btnCheck = btnCheck;
		 }
		 
		 //베팅 확인 버튼을 눌렀는지 확인하는 용도
		 public boolean getCheckBetting()
		 {
			 return btnBetting;
		 }
		 //베팅 확인 변수를 변화시키는 함수
		 public void setCheckBetting(boolean btnBetting)
		 {
			 this.btnBetting = btnBetting;
		 }
		 //플레이어가 건 베팅금액을 가져오는 함수 
		 public int getBettingMoney()
		 {
			 return bettingMoney;
		 }
		 
		 
	}
	public class GameRoom
	{
		private User p1;
		private User p2;
		
		//play 버튼을 양 쪽 플레이어가 눌렀는지 확인 용도 
		private boolean p1Check = false;
		private boolean p2Check = false;
		//베팅 버튼을 누르기전에 play 버튼을 눌렀는지 확인용도
		private boolean p1Play = false;
		private boolean p2Play = false;
			
		//베팅 확인 버튼 확인용도
		private boolean p1CheckBetting = false;
		private boolean p2CheckBetting = false;
		
		private List<Integer> p1Deck;
		private List<Integer> p2Deck;
		
		//각 플레이어들이 시작시 가지고 있는 기본 돈
		private int basicMoney = 200;
		
		//현재 플레이어들이 가지고 있는 돈
		private int p1CurrentMoney;
		private int p2CurrentMoney;
		
		//플레이어가 건 베팅금액
		private int p1BettingMoney;
		private int p2BettingMoney;
		
		//각 플레이어가 뜬 숫자들
		private int p1Number;
		private int p2Number;
		
		private Random number;
		private int round;
		
		public GameRoom(User p1, User p2)
		{
			this.p1 = p1;
			this.p2 = p2;
		
			this.number = new Random();
			
			this.p1Deck = new ArrayList<>();
			this.p2Deck = new ArrayList<>();
			
			this.round = 0;
			//게임 시작시 초기 자원을 할당해줌
			p1CurrentMoney = basicMoney;
			p2CurrentMoney = basicMoney;
			
			//초기에 클라이언트한테 초기 자금을 알려줌
			p1.WriteOne("/MyMoney1 " +p1.UserName +" "+ p1CurrentMoney);
			p1.WriteOne("/MyMoney2 " +p2.UserName +" "+ p2CurrentMoney);
			
			p2.WriteOne("/MyMoney1 "+p2.UserName +" "+ p1CurrentMoney);
			p2.WriteOne("/MyMoney2 "+p1.UserName +" "+ p2CurrentMoney);
			
			basicDeck();
		}
		
		
		//덱을 초기화하고 새롭게 숫자를 넣는 함수 
		private void basicDeck()
		{
			p1Deck.clear();
			p2Deck.clear();
			
			round =0;
			
			p1CurrentMoney = basicMoney;
			p2CurrentMoney = basicMoney;
			
			p1.WriteOne("/MyMoney1 " +p1.UserName +" "+ p1CurrentMoney);
			p1.WriteOne("/MyMoney2 " +p2.UserName +" "+ p2CurrentMoney);
			
			p2.WriteOne("/MyMoney1 "+p2.UserName +" "+ p1CurrentMoney);
			p2.WriteOne("/MyMoney2 "+p1.UserName +" "+ p2CurrentMoney);
			
			p1.WriteOne("[게임을 시작합니다]");
			p2.WriteOne("[게임을 시작합니다]");
			
			for(int i=1; i<=10; i++)
			{
				p1Deck.add(i);
				p2Deck.add(i);
			}
			
		}
		
		//play버튼을 둘 다 눌렀을때 다음라운드로 넘어가게끔
		//12_03 추가해야할것 : 베팅확인 버튼을 눌러야지 넘어갈 수 있게 수정 필요
		public void readyBtn()  
		{
			p1Check = p1.getCheck();
			p2Check = p2.getCheck();
			
			if(p1Check && p2Check && p1Play && p2Play)
			{
				spreadCard();
				p1.setCheck(false);
				p2.setCheck(false);
				p1Play =false;
				p2Play = false;
			}
			
		}
		
		//베팅 확인 버튼을 눌렀을때의 기능들 
		public void readyBatting() 
		{
			p1CheckBetting  = p1.getCheckBetting();
			p2CheckBetting  = p2.getCheckBetting();
			
			//p1에서 먼저 베팅 확인 버튼을 눌렀을때
			if(p1CheckBetting && !p2CheckBetting)
			{
				//p1에서 베팅금액을 뺀 돈을 보여줌 -> 나중에 둘 다 버튼을 눌렀을 시 다시 보내기 때문에 currentMoney에 반영하진 않음
				int lastMoney = p1CurrentMoney - p1.getBettingMoney();
				//p1의 현재 금액을 보여줌
				p1.WriteOne("/BettingOK " + p1.UserName+" "+ p1.getBettingMoney());
				p2.WriteOne("/BettingOK " + p1.UserName+" "+ p1.getBettingMoney());
			}
			
			//p2에서 먼저 베팅 확인 버튼을 눌렀을때
			if(!p1CheckBetting && p2CheckBetting)
			{
				//p2에서 베팅금액을 뺀 돈을 보여줌 -> 나중에 둘 다 버튼을 눌렀을 시 다시 보내기 때문에 currentMoney에 반영하진 않음
				int lastMoney = p2CurrentMoney - p2.getBettingMoney();
				//p2의 현재 금액을 보여줌
				p1.WriteOne("/BettingOK " + p2.UserName+" "+ p2.getBettingMoney());
				p2.WriteOne("/BettingOK " + p2.UserName+" "+ p2.getBettingMoney());
			}
			
			//p1과 p2가 베팅 확인 버튼을 눌렀을때 : 누구 숫자가 더 큰지 확인 후 그 결과에 맞춰서 카드 공개, 돈 변화 확인 , 각각 남은 금액 확인 
			if(p1CheckBetting && p2CheckBetting)
			{
				String p1ImgName = "card_" +p1Number +".png";
				String p2ImgName = "card_" +p2Number + ".png";
				
				AppendText(Integer.toString(p1Number));
				AppendText(Integer.toString(p2Number));
		
				//숫자 비교
				//p1의 숫자가 더 클때 
				if(p1Number > p2Number) 
				{
					if(p1Number == 10 && p2Number == 1)
					{
						AppendText("1은 10을 이깁니다 : 플레이어 2 승리");
						p1.WriteOne("/RoundResult LOSE");
						p2.WriteOne("/RoundResult WIN");
						//p1의 돈이 p2한테 넘어감
						p1CurrentMoney -= p1.getBettingMoney();
						p2CurrentMoney += p1.getBettingMoney()+p2.getBettingMoney();
						//클라이언트한테 정보를 넘겨줌
						p1.WriteOne("/BettingOK1 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+ p1ImgName);
						p1.WriteOne("/BettingOK2 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
						
						p2.WriteOne("/BettingOK2 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+ p1ImgName);
						p2.WriteOne("/BettingOK1 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
						
					}
					else
					{
						
						//플레이어 돈이 0이하로 떨어지면 끝나게 조정
						AppendText("플레이어1의 카드 숫자가 더 높습니다 : 플레이어 1 승리");
						p1.WriteOne("/RoundResult WIN");
						p2.WriteOne("/RoundResult LOSE");
						//p2의 돈이 p1한테 넘어감
						p1CurrentMoney += p2.getBettingMoney()+p1.getBettingMoney();
						p2CurrentMoney -= p2.getBettingMoney();
						//클라이언트한테 정보를 넘겨줌
						p1.WriteOne("/BettingOK1 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney +" "+ p1ImgName);
						p1.WriteOne("/BettingOK2 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney +" "+ p2ImgName);
						
						p2.WriteOne("/BettingOK2 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+p1ImgName);
						p2.WriteOne("/BettingOK1 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney +" " +p2ImgName);
					}
					
				}				
				else if(p1Number == p2Number) //p1과 p2의 숫자가 서로 같을때 
				{
					AppendText("비겼습니다");
					p1.WriteOne("/RoundResult DRAW");
					p2.WriteOne("/RoundResult DRAW");
					//그대로
					p1.WriteOne("/BettingOK1 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney +" "+ p1ImgName);
					p1.WriteOne("/BettingOK2 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
					
					p2.WriteOne("/BettingOK2 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+ p1ImgName);
					p2.WriteOne("/BettingOK1 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
				}
				else if(p1Number < p2Number) //p2의 숫자가 더 클때 
				{
					if(p1Number == 1 && p2Number == 10)
					{
						AppendText("1은 10을 이깁니다 : 플레이어 1 승리");
						p1.WriteOne("/RoundResult WIN");
						p2.WriteOne("/RoundResult LOSE");
						//p2의 돈이 p1한테 넘어감
						p1CurrentMoney += p2.getBettingMoney()+p1.getBettingMoney();
						p2CurrentMoney -= p2.getBettingMoney();
						//클라이언트한테 정보를 넘겨줌
						p1.WriteOne("/BettingOK1 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney +" "+ p1ImgName);
						p1.WriteOne("/BettingOK2 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney +" "+ p2ImgName);
						
						p2.WriteOne("/BettingOK2 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+p1ImgName);
						p2.WriteOne("/BettingOK1 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney +" " +p2ImgName);
						
					}
					else
					{
						
						AppendText("플레이어2의 카드 숫자가 더 높습니다 : 플레이어 2 승리 ");
						p1.WriteOne("/RoundResult LOSE");
						p2.WriteOne("/RoundResult WIN");
						//p1의 돈이 p2한테 넘어감
						p1CurrentMoney -= p1.getBettingMoney();
						p2CurrentMoney += p1.getBettingMoney()+p2.getBettingMoney();
						//클라이언트한테 정보를 넘겨줌
						p1.WriteOne("/BettingOK1 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+ p1ImgName);
						p1.WriteOne("/BettingOK2 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
						
						p2.WriteOne("/BettingOK2 " + p1.UserName +" " + p1.getBettingMoney()+ " " + p1CurrentMoney + " "+ p1ImgName);
						p2.WriteOne("/BettingOK1 " + p2.UserName +" " + p2.getBettingMoney()+ " " + p2CurrentMoney + " "+ p2ImgName);
					}
				}
				if(p1CurrentMoney <= 0 || p2CurrentMoney <=0)
				{
					GameResult();
					basicDeck();
				}
				
				//둘 다 베팅 확인 버튼을 눌렀을때 => 숨겨진 카드 이미지 모두 공개, 숫자 높은 사람 승리, 베팅 금액 가져가기 
				p1.setCheckBetting(false);
				p2.setCheckBetting(false);
				
				p1Play = true;
				p2Play = true;
				
				
			}
		}
		
		//확인 눌렀을때 변수를 만들기 -> 플레이어들한테 건 금액 보내기 
		//플레이어가 건 베팅금액을 받기 
		//양쪽다 확인 눌렀을때 -> 나온 숫자를 비교, 더 높은 숫자 나온 플레이어의 금액에 진 플레이어가 건 금액을 추가함(진 플레이어는 그만큼 뺌)
		//플레이 버튼을 베팅하기 전에 누르지 못하는 로직 생각
		
		public void spreadCard()
		{
			if(p1Deck.isEmpty() && p2Deck.isEmpty())
			{
				AppendText("모든 카드가 떨어졌습니다. 게임이 종료됩니다. 베팅 금액이 높은 플레이어가 이기게됩니다 \n");
				p1.WriteAll("모든 카드가 떨어졌습니다. 게임이 종료됩니다. 베팅 금액이 높은 플레이어가 이기게됩니다 \n");
				p2.WriteAll("모든 카드가 떨어졌습니다. 게임이 종료됩니다. 베팅 금액이 높은 플레이어가 이기게됩니다 \n");
				//최종 승리자 정하기
				//승패 정하고 바로 게임 재시작됨
				GameResult();
				basicDeck();
			}
			int p1Index = number.nextInt(p1Deck.size());
			int p1Card = p1Deck.remove(p1Index);
			
			int p2Index = number.nextInt(p2Deck.size());
			int p2Card = p2Deck.remove(p2Index);
			
			p1Number = p1Card;
			p2Number = p2Card;
			
			String p1ImgName = "card_" +p1Number +".png";
			String p2ImgName = "card_" +p2Number + ".png";
			
			AppendText("현재 라운드 : " + round);
			AppendText("플레이어 1의 카드 : " + p1Card);
			AppendText("플레이어 2의 카드 : " + p2Card+"\n");
			
			round++;
			
			if(round == 5) //이벤트 라운드 : 서로의 카드가 숨겨진상태로 진행
			{
				p1.WriteOne("이벤트 라운드 : [서로의 카드가 보이지 않습니다] \n");
				p1.WriteOne("현재 라운드 : " + round + "\n");
				p1.WriteOne("/requestCard1 " + p1.UserName +" " +round+" "+ "card_0.png");
				p1.WriteOne("/requestCard2 " + p2.UserName +" " +round+" "+ "card_0.png");
				
				p2.WriteOne("이벤트 라운드 : [서로의 카드가 보이지 않습니다] \n");
				p2.WriteOne("현재 라운드 : " + round + "\n");
				p2.WriteOne("/requestCard2 " + p1.UserName +" " +round+" "+"card_0.png");
				p2.WriteOne("/requestCard1 " + p2.UserName +" " +round+" "+"card_0.png");
			}
			else if(round == 7)
			{
				p1CurrentMoney += 50;
				p2CurrentMoney += 50;
				//각각 현재 돈에서 50씩 지원금이 들어오는 라운드
				p1.WriteOne("/MyMoney1 " +p1.UserName +" "+ p1CurrentMoney);
				p1.WriteOne("/MyMoney2 " +p2.UserName +" "+ p2CurrentMoney);
				
				p2.WriteOne("/MyMoney1 "+p2.UserName +" "+ p1CurrentMoney);
				p2.WriteOne("/MyMoney2 "+p1.UserName +" "+ p2CurrentMoney);
				
				p1.WriteOne("이벤트 라운드 : [50 베팅금액 추가] \n");
				p1.WriteOne("현재 라운드 : " + round + "\n");
				p1.WriteOne("/requestCard1 " + p1.UserName +" " +round+" "+ "card_0.png");
				p1.WriteOne("/requestCard2 " + p2.UserName +" " +round+" "+p2ImgName);
				
				p2.WriteOne("이벤트 라운드 : [50 베팅금액 추가] \n");
				p2.WriteOne("현재 라운드 : " + round + "\n");
				p2.WriteOne("/requestCard2 " + p1.UserName +" " +round+" "+p1ImgName);
				p2.WriteOne("/requestCard1 " + p2.UserName +" " +round+" "+"card_0.png");
			}
			else
			{			
				p1.WriteOne("현재 라운드 : " + round + "\n");
				p1.WriteOne("/requestCard1 " + p1.UserName +" " +round+" "+ "card_0.png");
				p1.WriteOne("/requestCard2 " + p2.UserName +" " +round+" "+p2ImgName);
				
				p2.WriteOne("현재 라운드 : " + round + "\n");
				p2.WriteOne("/requestCard2 " + p1.UserName +" " +round+" "+p1ImgName);
				p2.WriteOne("/requestCard1 " + p2.UserName +" " +round+" "+"card_0.png");
			}
							
		}
		
		public void GameResult()
		{
			if(p1CurrentMoney > p2CurrentMoney) //p1의 최종 승리
			{
				p1.WriteOne("/FinalResult WIN");
				p2.WriteOne("/FinalResult LOSE");
			}
			else if(p1CurrentMoney == p2CurrentMoney) //무승부
			{
				p1.WriteOne("/FinalResult DRAW");
				p2.WriteOne("/FinalResult DRAW");
			}
			else if(p1CurrentMoney < p2CurrentMoney) //p2의 최종 승리
			{
				p1.WriteOne("/FinalResult LOSE");
				p2.WriteOne("/FinalResult WIN");
			}
		}

		// 보내줄 때:  /BettingOK1 userName 베팅금액 남은돈 카드이미지문자열 
		            
		
	}
	 
	
	
}
